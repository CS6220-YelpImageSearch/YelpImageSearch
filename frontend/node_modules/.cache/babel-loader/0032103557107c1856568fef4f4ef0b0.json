{"ast":null,"code":"var _jsxFileName = \"/Users/xbzhang/CS6220/yelp-image-search/src/components/search-image.component.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport ReactLoading from 'react-loading';\n\nfunction getCoffee() {\n  return new Promise(resolve => {\n    setTimeout(() => resolve('â˜•'), 500); // it takes 2 seconds to make coffee\n  });\n}\n\nexport default class Results extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      photo_business: '',\n      businesses: '',\n      isLoad: false\n    };\n    this.fetchImages = this.fetchImages.bind(this);\n  }\n\n  async fetchImages() {\n    try {\n      const coffee = await getCoffee();\n      console.log(coffee);\n      const result = await axios.get('http://localhost:8000/search_business');\n      console.log(result.data);\n      this.setState({\n        businesses: result.data.result[0],\n        photo_business: result.data.result[1],\n        isLoad: true\n      });\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  componentDidMount() {\n    document.title = 'YelpImageSearch';\n    this.fetchImages();\n  } // Fetches our GET route from the Express server.\n\n\n  render() {\n    const imagePath = process.env.PUBLIC_URL;\n\n    if (!this.state.isLoad) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \" \");\n    } else {\n      return React.createElement(\"div\", {\n        className: \"Result\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"Result-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"Result-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"Here are your Restaurant!\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-horizontal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"img-square-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"\".concat(imagePath, \"/input_image/input_file.png\"),\n        alt: \"input\",\n        height: \"300\",\n        weight: \"500\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Input Image\"), React.createElement(\"p\", {\n        className: \"card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Label: Food\"), React.createElement(\"p\", {\n        className: \"card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"State: NV\"), React.createElement(\"p\", {\n        className: \"card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"City: Las Vegas\"))), React.createElement(\"div\", {\n        className: \"card-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"small\", {\n        className: \"text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }))))), this.state.businesses.map((business, index) => {\n        var photo = this.state.photo_business.filter(obj => {\n          return obj.business_id === business.business_id;\n        })[0];\n        return React.createElement(\"div\", {\n          className: \"row\",\n          key: business.business_id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-12 mt-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card-horizontal\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"img-square-wrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: \"\".concat(imagePath, \"/images/\") + \"\".concat(photo.photo_name),\n          alt: \"input\",\n          height: \"300\",\n          weight: \"500\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"card-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          className: \"card-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, \"Restaurant: \", business.name), React.createElement(\"p\", {\n          className: \"card-text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, \"Stars: \", business.stars), React.createElement(\"p\", {\n          className: \"card-text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, \"Address: \", business.address), React.createElement(\"p\", {\n          className: \"card-text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, \"Categories: \", business.categories), React.createElement(\"a\", {\n          href: \"https://www.yelp.com/search?find_desc=\".concat(business.name, \"&find_loc=NV\"),\n          target: \"_blank\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, \"Search in Yelp\"))), React.createElement(\"div\", {\n          className: \"card-footer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, React.createElement(\"small\", {\n          className: \"text-muted\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        })))));\n      })));\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/xbzhang/CS6220/yelp-image-search/src/components/search-image.component.js"],"names":["React","Component","axios","ReactLoading","getCoffee","Promise","resolve","setTimeout","Results","constructor","props","state","photo_business","businesses","isLoad","fetchImages","bind","coffee","console","log","result","get","data","setState","e","error","componentDidMount","document","title","render","imagePath","process","env","PUBLIC_URL","map","business","index","photo","filter","obj","business_id","photo_name","name","stars","address","categories"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport ReactLoading from 'react-loading';\n\nfunction getCoffee() {\n  return new Promise(resolve => {\n    setTimeout(() => resolve('â˜•'), 500); // it takes 2 seconds to make coffee\n  });\n}\n\nexport default class Results extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      photo_business: '',\n      businesses: '',\n      isLoad: false,\n    }\n    this.fetchImages = this.fetchImages.bind(this);\n  }\n\nasync fetchImages() {\n    try {\n      const coffee = await getCoffee();\n      console.log(coffee);\n      const result = await axios.get('http://localhost:8000/search_business');\n      console.log(result.data);\n      this.setState({\n          businesses: result.data.result[0],\n          photo_business: result.data.result[1],\n          isLoad: true,\n        });\n    } catch(e) {\n      console.error(e);\n    }\n  }\n\n  componentDidMount() {\n    document.title = 'YelpImageSearch';\n    this.fetchImages();\n  }\n\n  // Fetches our GET route from the Express server.\n  render() {\n    const imagePath = process.env.PUBLIC_URL;\n    if (!this.state.isLoad) {\n      return  <div> </div>\n    } else {\n      return (\n        <div className=\"Result\">\n          <header className=\"Result-header\">\n          <h1 className=\"Result-title\">Here are your Restaurant!</h1>\n          </header>\n          <div>\n\n          <div className=\"row\">\n                 <div className=\"col-12 mt-3\">\n                     <div className=\"card\">\n                         <div className=\"card-horizontal\">\n                             <div className=\"img-square-wrapper\">\n                                 <img src={`${imagePath}\\/input_image\\/input_file.png`} alt=\"input\" height='300' weight='500'/>\n                             </div>\n                             <div className=\"card-body\">\n                                 <h4 className=\"card-title\">Input Image</h4>\n                                 <p className=\"card-text\">Label: Food</p>\n                                 <p className=\"card-text\">State: NV</p>\n                                 <p className=\"card-text\">City: Las Vegas</p>\n                             </div>\n                         </div>\n                         <div className=\"card-footer\">\n                             <small className=\"text-muted\"></small>\n                         </div>\n                     </div>\n                 </div>\n             </div>\n\n             {this.state.businesses.map((business, index) => {\n               var photo = this.state.photo_business.filter((obj) => { return obj.business_id === business.business_id})[0];\n               return(\n               <div className=\"row\" key={business.business_id}>\n                      <div className=\"col-12 mt-3\">\n                          <div className=\"card\">\n                              <div className=\"card-horizontal\">\n                                  <div className=\"img-square-wrapper\">\n                                      <img src={`${imagePath}\\/images\\/` + `${photo.photo_name}`} alt=\"input\" height='300' weight='500'/>\n                                  </div>\n                                  <div className=\"card-body\">\n                                      <h4 className=\"card-title\">Restaurant: {business.name}</h4>\n                                      <p className=\"card-text\">Stars: {business.stars}</p>\n                                      <p className=\"card-text\">Address: {business.address}</p>\n                                      <p className=\"card-text\">Categories: {business.categories}</p>\n                                      <a href={`https://www.yelp.com/search?find_desc=${business.name}&find_loc=NV`} target=\"_blank\">Search in Yelp</a>\n                                  </div>\n                              </div>\n                              <div className=\"card-footer\">\n                                  <small className=\"text-muted\"></small>\n                              </div>\n                          </div>\n                      </div>\n                  </div>);\n\n             })}\n          </div>\n      </div>\n    );\n  }\n}\n}\n"]},"metadata":{},"sourceType":"module"}